plugins {
  id "org.spongepowered.gradle.vanilla" version "0.2.1-SNAPSHOT"
}

minecraft {
  version(minecraft_version)
  if (file("src/main/resources/${mod_id}.accesswidener").exists()) {
    accessWideners(file("src/main/resources/${mod_id}.accesswidener"))
  }
}

dependencies {
  compileOnly group: "org.spongepowered", name: "mixin", version: "0.8.5"
  implementation "com.electronwill.night-config:core:${nightconfig_version}"
  implementation "com.electronwill.night-config:toml:${nightconfig_version}"
  compileOnly "net.minecraftforge:forgeconfigapiport-fabric:${fcap_version}"
}

// Disable publishing tasks where common is not published
tasks.named('publishModrinth').get().setEnabled(false)
tasks.named('publishCurseforge').get().setEnabled(false)
tasks.named('publishGitHub').get().setEnabled(false)
